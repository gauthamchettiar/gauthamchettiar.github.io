---
title:  "☁️ AWS | Dabbling with VPC"
layout: post
categories: [aws]
image: /assets/img/P006/cover.png
description: "Things I have jotted down while I was learning AWS VPC!"
customexcerpt: "Things I have jotted down while I was learning AWS VPC!"
hidden: true
---
![Cover](assets/img/P006/cover.png)
Illustration Source: "Connected World" from [https://undraw.co](https://undraw.co/){:target="_blank"}

I had decided to attempt AWS Solutions Architect Exam. So, after doing some initial learning, I went ahead and gave my first Practice Test. And... I totally bombed the VPC section! 

VPC being one of the most important part of AWS, I really had to learn it as thoroughly as I could. I read through every material I had and created my own little paper notes. This post includes those notes, just digitalized!

*Just to read through this, you might have to know basics of AWS - atleast all the services offered. Also, feel free to save any diagrams given here, it's for your reference!*

<br>

# Index
1. [Where is my data being stored?](#where-is-my-data-being-stored)
2. [How is my data isolated from others?](#how-is-my-data-isolated-from-others)
3. [What should I take care of before deploying any resource?](#what-should-i-take-care-of-before-deploying-any-resource)
4. [How to identify my resource?](#how-to-identify-my-resource)
5. [How to reach my resource?](#how-to-reach-my-resource)


<br>

## Where is my data being stored?
Amazon stores your data in blimps soaring through the sky, hence they are called Cloud Storage... 

Okay, Just Kidding! I don't expect you to fall for that. You must be at a level to understand that Cloud is nothing but data centers managed by third party (Amazon in this case). Amazon, rents out these data centers for other companies to use. This service offering is called AWS. You already knew that right... RIGHT?

AWS have actually logically clustered all it's data centers. 
1. One or Multiple **data centers** that are closely located are being called an **Availability Zone (AZ)**.
2. Two or More **Availability Zones (AZ)** that are located in same general location are being called **Regions**.

There are several benefits of this... Let's say a massive Cyclone hit an *AZ*, What do you think will happen? Well, location for each *AZ* has been choosen such that they are atleast 60 miles apart! So even if an *AZ* goes down due to some catastrophe, there is a very low chance that same would hit another *AZ*. Thus, there are multiple *AZs* to act as a backup for any failed *AZ*.

![](assets/img/P006/01_region_az_dc.png)

### Things to Remember
1. (N) Data Centers = (1) Availability Zone
2. (N) Availability Zones = (1) Region

## How is my data isolated from others?
As I said, Amazon rents out it's infrastructure (data center) for their customers to use. That does mean that you and some other Organiation may share physical storage and compute from the same data center. So shouldn't it be easy to just access data not owned by you? Or worse, someone else to access data stored by you?

Well, if that would have been possible, AWS should be out of business by now!

It's possible to isolate your instances from others with the help of **Virtual Private Cloud (VPC)**. Consider *VPC* as a networking layer above your AWS resources, most of your AWS resources have to be assigned a *VPC*. With *VPC*, it's easier to govern how each of these resources communicate with each other and the world.

*VPC* has a boundary, **you cannot span *VPCs* accross multiple Regions**. All resources provisioned within a VPC, will be created in same Region only. Since a Region may include One or More AZs, **a *VPC* may include multiple AZs**. Also, **a Region itself can have multiple *VPCs* under it**.

If VPC is not enough for logical isolation of your resources, you can also create **Subnets** within any *VPC*. *Subnets* or subnetworks are just *VPCs* divided into smaller networks. 

Association between *Subnets* and AZ is similar to that of *VPC* and Regions - **you cannot span *Subnet* accross multiple AZs**, all resources provisioned within a *subnet* will be created in same AZ. Also, **an AZ itself can have multiple *Subnets* under it**

![](assets/img/P006/02_vpc_subnet.png)

### Things to Remember
1. (N) VPCs can be created in (1) Region.
2. (1) VPC cannot span accross (N) Regions.
3. (N) Subnets can be created in (1) VPC.
4. (1) Subnet cannot span accross (N) AZ.


## What should I take care of before deploying any resource?
Here is a beautiful diagram of AWS resources and how they interact at various levels of networking -

![](assets/img/P006/03_vpc_subnet_services.png)

If you haven't heard of all the services yet, that's okay. Just revisit this once you go through them later. But do remember, it's important to know - where your resource is getting deployed.

From above diagram,
1. **EC2 Instances** and **RDS Instances** are deployed on an *AZ*. So when you create one, you need to choose *one VPC* and *one Subnet* for both.
2. **Elastic Load Balancers** are deployed in a *Region* but confined within a *VPC*, it can route traffic to multiple AZs at once. So when you create one, you need to choose *one VPC* and *multiple Subnets*.
3. **SNS, S3, Lambda, API Gateway, DynamoDB and SQS** are all managed services by AWS, that is deployed on a *Region*. You only need to choose a *Region* and not required to choose any *VPC*.
4. **IAM and Route53** are gobal services, that can be accessed from any *Region*.

There's a lot more services that AWS offers but I have only included most important one's here. Before you go through any service Just try to read, where is it really getting deployed. This can immensely help you in cracking AWS Certifcation Exams.

## How to identify my resource?

## How to reach my resource?